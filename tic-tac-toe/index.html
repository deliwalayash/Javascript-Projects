<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link rel="stylesheet" href="./assets/style.css">
</head>
<body>

    <div class="board">
        <button class="cell" id="b1"></button>
        <button class="cell" id="b2"></button>
        <button class="cell" id="b3"></button>
        <button class="cell" id="b4"></button>
        <button class="cell" id="b5"></button>
        <button class="cell" id="b6"></button>
        <button class="cell" id="b7"></button>
        <button class="cell" id="b8"></button>
        <button class="cell" id="b9"></button>
    </div>
    
    <script src="./assets/index.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        let counter = 0;

        function reset(){
            for(let i = 1;i <=9;i++){
                document.getElementById(`b${i}`).innerHTML ="";
            }

        }
        function alertfire(symbol){
            Swal.fire({
            title: `Player ${symbol} Wins`,
            icon: "success",
        })
        reset();
        return false;
        }

        function winner(symbol){
            let flag=true;

            //checking 1st row
            for(let i = 1; i <=3;i++){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }

            //checking for 2nd row
            flag=true;
             for(let i = 4; i <=6  ;i++){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }

            //checking for third row

             flag=true;
             for(let i = 7; i <=9  ;i++){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }

            //checking for 1st column

             flag=true;
             for(let i = 1; i <=7  ;i+=3){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }

            //checking for 2nd column

            
             flag=true;
             for(let i = 2; i <=8  ;i+=3){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }
            //checking for 3rd column

            
             flag=true;
             for(let i = 2; i <=8  ;i+=3){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }
            //checking 1st diagonal

            
             flag=true;
             for(let i = 1; i <=9  ;i+=4){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }
            //checking 2nd diagonal

            
             flag=true;
             for(let i = 3; i <=7  ;i+=2){
                let val=document.getElementById(`b${i}`).innerHTML;
                console.log(val);
                if(val != symbol){
                    flag = false;
                    break;
                }
               
                
            }
            if(flag){
                alertfire(symbol);
            }

            if(counter ==9){
                 if(alertfire()){
                 Swal.fire({
                title: `Game Draw`,
                icon: "success",
            })

            }

            }
            // if(alertfire){
            //      Swal.fire({
            //     title: `Game Draw`,
            //     icon: "success",
            // })

            // }
        }
        $(document).ready(function(){
            $(".cell").on("click",function(){
               let cell=this;
               
              if(cell.innerHTML == ""){
                 if(counter % 2 ==0){
                cell.innerHTML = "X"
               }
               else{
                 cell.innerHTML = "O"
               }
               counter++;
              }

              else{
                alert("You cannnot override  Move")
              }

              if(counter >= 5){
                winner(cell.innerHTML)
              }
            })
          
        })
    </script>
</body>
</html>
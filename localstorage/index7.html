<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
          <div class="container">
        <h1>Student form</h1>
        <form>
            <label for="name" class="form-label">Name:</label>
            <input type="text" id="name" class="form-control" required>

            <label for="email" class="form-label">Email:</label>
            <input type="email" id="email" class="form-control" required>

            <label for="course">Course</label>
            <select name="course" id="course" required>
                <option value="">Please Select Course</option>
                <option value="FSD">FSD</option>
                <option value="UI/UX">UI / UX </option>
                <option value="AI/ML">AI /ML</option>
            </select>
            <div>
                 <button type="submit" class="btn btn-primary mt-3" id="sbt">Submit</button>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded",function(){

            let studentlist=JSON.parse(localStorage.getItem("students")) || []
            let editID=JSON.parse(localStorage.getItem("editid")) || null

            if(Number(editID)){
                document.getElementById("name").value=studentlist[Number(editID)].name
                document.getElementById("email").value=studentlist[Number(editID)].email
                document.getElementById("course").value=studentlist[Number(editID)].course

            }
            document.getElementById("sbt").addEventListener("click",function(e){
                e.preventDefault()
                let name=document.getElementById("name").value
                let email=document.getElementById("email").value
                let course=document.getElementById("course").value
       
                let student={
                    name,
                    email,
                    course,
                }

                if(Number(editID)){
                    studentlist[Number(editID)] =student
                }
                else{

                    studentlist.push(student)
                }
                localStorage.setItem("students",JSON.stringify(studentlist))
                window.location="./user7.html"

            })
        })
    </script>
    
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

    <label for="hour">Hour</label>
    <input type="number" id="hour">

    <br>
    <br>
    <label for="min">Minute</label>
    <input type="number" id="min" min="0" max="59">

    <br>
    <br>
    <label for="sec">Second</label>
    <input type="number" id="sec" min="0" max="59">

    <br>
    <br>

    <button type="submit" class="btn btn-primary" id="btn">Click Me</button>

    <h1 id="result">00:00:00</h1>
    <audio src="./audio/timer-ticks-314055.mp3" id="audio" loop></audio>
    <audio src="./audio/bell-notification-337658.mp3" id="bellaudio"></audio>

        <script>
            function settimer(totalsec){
                let hour = parseInt(totalsec / 3600)
                let totalminsec = totalsec % 3600
                let min = parseInt(totalminsec / 60)
                let sec = totalminsec % 60
                return `${hour.toString().padStart(2,"0")} : ${min.toString().padStart(2,"0")} : ${sec.toString().padStart(2,"0")}`
                
            }
            let flag = 0
            function timer(){

                 if(flag ==1){
                    return
                }
                btn.disabled = true
                flag =1
                let hour = document.getElementById("hour").value || 0
                let min=document.getElementById("min").value || 0
                let sec=document.getElementById("sec").value || 0
                let result=document.getElementById("result")
                let totalsec= hour * 3600 + min * 60 + parseInt(sec)

                audio.play()
                let timeInterval = setInterval(() => {
                    if(totalsec <=0){
                        clearInterval(timeInterval)
                        audio.pause()
                        audio.currentTime =0
                        audio1.play()
                        flag = 0
                        btn.disabled = false
                    }
                    result.innerHTML=settimer(totalsec);
                    totalsec--;
                }, 1000);

            }
            let btn=document.getElementById("btn")
            let audio=document.getElementById("audio")
            let audio1=document.getElementById("bellaudio")
            
            btn.addEventListener("click",timer,{      
            })
        </script>
    
</body>
</html>
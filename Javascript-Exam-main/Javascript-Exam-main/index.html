<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="recipe-card">

        <h1 class="text-center">Recipe World</h1>
        <form action="">
    
    
            <label for="title" class="form-label">Recipe Title</label>
            <input type="text" class="form-control" id="title">
            <label for="ingredients" class="form-label">ingredients</label>
            <input type="text" class="form-control" id="ingredients">
            <label for="instruction" class="form-label">Instructions</label>
            <input type="text" class="form-control mb-2" id="instruction">
            <label for="cuisine">Cuisine Type</label>
            <select name="cuisine" id="cuisine" class="form-select">
                <option value="">Select Cuisine</option>
                <option value="Italian">Italian</option>
                <option value="Chinese">Chinese</option>
                <option value="South Indian">South Indian</option>
                <option value="North Indian">North Indian</option>
    
            </select>
            <div class="mt-3 text-center">

                <button type="button" id="sbt" class="btn btn-warning fw-bold">Add Recipe </button>
                <button type="button" id="sbt" class="btn btn-warning fw-bold" onclick="window.location='./recipe.html'">View Recipe </button>
            </div>
    
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        let recipe = JSON.parse(localStorage.getItem("recipe")) || []
        let updateid = JSON.parse(localStorage.getItem("updateid")) 

        if(updateid != null){

            let updateRecipe=recipe[updateid]
            document.getElementById("title").value = updateRecipe.title
            document.getElementById("ingredients").value =updateRecipe.ingredients
            document.getElementById("instruction").value=updateRecipe.instruction
            document.getElementById("cuisine").value=updateRecipe.cuisine
            
        }
        document.getElementById("sbt").addEventListener("click",function(e){

            e.preventDefault()

            let title=document.getElementById("title").value || ""
            let ingredients = document.getElementById("ingredients").value || ""
            let instruction= document.getElementById("instruction").value || ""
            let cuisine = document.getElementById("cuisine").value || ""

            if(title == "" || ingredients =="" || instruction =="" || cuisine ==""){
                Swal.fire({
                icon: "error",
                title: "Please Enter All Field to Continue",
               
                });
                return
            }
            let item={
                title,
                ingredients,
                instruction,
                cuisine,
            }
            if(updateid != null){
                recipe[updateid]=item
                updateid=null
                localStorage.removeItem("updateid")
            }
            else{

                recipe.push(item)
            }


           localStorage.setItem("recipe",JSON.stringify(recipe))

           window.location = "./recipe.html"
           

        })
    </script>

</body>
</html>